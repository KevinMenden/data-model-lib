<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>SRMHardware.groovy</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Data Model Library</a> &gt; <a href="index.source.html" class="el_package">life.qbic.datamodel.dtos.imaging.parameters.srm</a> &gt; <span class="el_source">SRMHardware.groovy</span></div><h1>SRMHardware.groovy</h1><pre class="source lang-java linenums">package life.qbic.datamodel.dtos.imaging.parameters.srm

import life.qbic.datamodel.dtos.imaging.properties.Detector
import life.qbic.datamodel.dtos.imaging.properties.Filter

import life.qbic.datamodel.dtos.imaging.properties.IlluminationMode
import life.qbic.datamodel.dtos.imaging.parameters.ImagingHardware
import life.qbic.datamodel.dtos.imaging.properties.Size

/**
 * Describes the properties of the super resolution microscope (SRM) hardware
 *
 * This class serves as DTO and contains information about
 * general SRM hardware parameters during an image analysis.
 *
 * This class shall be extended, if you need to add more technology-specific
 * properties.
 *
 * @author Sven Fillinger
 * @since 1.10.0
 */
class SRMHardware extends ImagingHardware {

    /**
     * Piezo is greek and means 'to squeeze or press'
     * Its the stage which 'holds' the specimen
     *
     * The table controller enables the control of the squeezing and position of the probe plate
     *
     * The name of the table controller is defined with this parameter,
     * e.g. E-710.3CD digital piezo controller
     */
    private final String piezoTableController

    /**
     * Scanner to detect fast, high precision motion in one or more axes
     *
     * The name of the scanner is defined with this parameter,
     * e.g. P-527.3CD multi axis piezo scanner
     */
    private final String piezoScanner

    /**
     * Cw stands for cool white and describes the brightness of the light / laser beam
     *
     * Defines the wavelength of laser lines in a continuous wave laser
     * e.g 405 nm
     */
    private final Integer laserLinesCw

    /**
     * Describes the wavelength of pulsed laser lines
     * e.g. 488 nm
     */
    private final Integer laserLinesPulsed

    /**
     * Describes the filter that has been applied to the laser lines.
     * Optical filter such as e.g. Bandpass filters(BP) are employed to center the wavelength of a light source
     *
     * e.g 488 nm BP/LL, BP (Sem rock)
     *
     */
    private final Float laserLineFilter

    /**
     * Describes the number of pulses per second(frequency) of a laser employed in pulse mode.
     *
     * Pulse frequency is measured in mega hertz (MHz), e.g 20 MHz
     */
    private final Integer laserRepetitionRate

    /**
     * Polarization optics change the state of polarization of incident radiation
     *
     * Describes the name of the polarization optics hardware
     * e.g Glen Thompson linear polarizer,
     *     Lambda/2 wave plate,
     *     Lambda/4 wave plate
     */
    private final String polarizationOptics

    /**
     * A beam splitter is an optical device that splits a beam of light in two. 
     *
     * Describes the name of the beam splitter hardware 
     * e.g TIRF Quad Line zt405/488/561/640rpc 514 BS LP
     */
    private final String excitationBeamSplitter

    /**
     * A microscope can have different illumination modes. It describes from where the lighting comes.
     * The sample could be illuminated from e.g. the back or the front (direct illumination)
     *
     * {@link IlluminationMode} describes the applied mode with a controlled vocabulary
     */
    private final IlluminationMode illuminationMode

    /**
     * This variable describes the size of the pinhole, which helps to focus the light and eliminate stray light
     *
     * The {@link Size} of the pinhole is measured in Âµm
     */
    private final Size pinholeSize

    /**
     * It filters out the entire excitation range of the fluorophore under inspection
     *
     * Described by the controlled vocabulary of {@link Filter}
     */
    private final Filter emissionFilter

    /**
     * BeamSplitters are designed to efficiently reflect excitation wavelengths and pass emission wavelengths
     *
     * Beside the product name the filter used with it needs to be specified
     */
    private final Filter beamSplitter

    /**
     * Different channels can have different filters, this variable collects all filter applied for different channels
     */
    private final List&lt;Filter&gt; emissionFilterChannels

    static class Builder extends ImagingHardware.Builder&lt;Builder&gt; {

        String piezoTableController = &quot;&quot;
        String piezoScanner = &quot;&quot;
        Integer laserLinesCw = -1
        Integer laserLinesPulsed = -1
        Float laserLineFilter = -1.0
        Integer laserRepetitionRate = -1
        String polarizationOptics = &quot;&quot;
        String excitationBeamSplitter = &quot;&quot;
        IlluminationMode illuminationMode = IlluminationMode.UNKNOWN
        Size pinholeSize = Size.UNKNOWN
        Filter emissionFilter = Filter.UNKNOWN
        Filter beamSplitter = Filter.UNKNOWN
<span class="fc" id="L139">        List&lt;Filter&gt; emissionFilterChannels = new ArrayList&lt;&gt;()</span>

        /**
         * Constructor with mandatory parameters.
         * @param objective
         * @param detector {@link Detector}
         */
        Builder(String objective, Detector detector) {
<span class="fc" id="L147">            super(objective, detector)</span>
        }

        /**
         * Sets the piezo table controller.
         * @param piezoTableController
         * @return
         */
        Builder setPiezoTableController(String piezoTableController) {
<span class="nc" id="L156">            this.piezoTableController = piezoTableController</span>
<span class="nc" id="L157">            return this</span>
        }

        /**
         * Sets the piezo scanner.
         * @param piezoScanner
         * @return
         */
        Builder setPiezoScanner(String piezoScanner) {
<span class="nc" id="L166">            this.piezoScanner = piezoScanner</span>
<span class="nc" id="L167">            return this</span>
        }

        /**
         * Sets the laser line.
         * @param laserLinesCw
         * @return
         */
        Builder setLaserLinesCw(Integer laserLinesCw) {
<span class="nc" id="L176">            this.laserLinesCw = laserLinesCw</span>
<span class="nc" id="L177">            return this</span>
        }

        /**
         * Sets the laser line pulse.
         * @param laserLinesPulsed
         * @return
         */
        Builder setLaserLinesPulsed(Integer laserLinesPulsed) {
<span class="fc" id="L186">            this.laserLinesPulsed = laserLinesPulsed</span>
<span class="pc" id="L187">            return this</span>
        }

        /**
         * Sets the laser line filter.
         * @param laserLineFilter
         * @return
         */
        Builder setLaserLineFilter(Float laserLineFilter) {
<span class="nc" id="L196">            this.laserLineFilter = laserLineFilter</span>
<span class="nc" id="L197">            return this</span>
        }

        /**
         * Sets the laser repetition rate.
         * @param laserRepetitionRate
         * @return
         */
        Builder setLaserRepetitionRate(Integer laserRepetitionRate) {
<span class="nc" id="L206">            this.laserRepetitionRate = laserRepetitionRate</span>
<span class="nc" id="L207">            return this</span>
        }

        /**
         * Sets the polarization optics.
         * @param polarizationOptics
         * @return
         */
        Builder setPolarizationOptics(String polarizationOptics) {
<span class="nc" id="L216">            this.polarizationOptics = polarizationOptics</span>
<span class="nc" id="L217">            return this</span>
        }

        /**
         * Sets the excitation beam splitter.
         * @param excitationBeamSplitter
         * @return
         */
        Builder setExcitationBeamSplitter(String excitationBeamSplitter) {
<span class="nc" id="L226">            this.excitationBeamSplitter = excitationBeamSplitter</span>
<span class="nc" id="L227">            return this</span>
        }

        /**
         * Sets the illumination mode.
         * @param illuminationMode {@link IlluminationMode}
         * @return
         */
        Builder setIlluminationMode(IlluminationMode illuminationMode) {
<span class="nc" id="L236">            this.illuminationMode = illuminationMode</span>
<span class="nc" id="L237">            return this</span>
        }

        /**
         * Sets the pinhole size.
         * @param pinholeSize {@link Size}
         * @return
         */
        Builder setPinholeSize(Size pinholeSize) {
<span class="nc" id="L246">            this.pinholeSize = pinholeSize</span>
<span class="nc" id="L247">            return this</span>
        }

        /**
         * Sets the emission filter.
         * @param emissionFilter {@link Filter}.
         * @return
         */
        Builder setEmissionFilter(Filter emissionFilter) {
<span class="nc" id="L256">            this.emissionFilter = emissionFilter</span>
<span class="nc" id="L257">            return this</span>
        }

        /**
         * Sets the beam splitter filter.
         * @param beamSplitter {@link Filter}.
         * @return
         */
        Builder setBeamSplitter(Filter beamSplitter) {
<span class="nc" id="L266">            this.beamSplitter = beamSplitter</span>
<span class="nc" id="L267">            return this</span>
        }

        /**
         * Sets the emission filter channels.
         * @param emissionFilterChannels A list of {@link Filter}.
         * @return
         */
        Builder setEmissionFilterChannels(List&lt;Filter&gt; emissionFilterChannels) {
<span class="nc" id="L276">            this.emissionFilterChannels = emissionFilterChannels</span>
<span class="nc" id="L277">            return this</span>
        }

        /**
         * Builds an immutable SRMHardware object.
         * @return
         */
        @Override
        SRMHardware build() {
<span class="pc" id="L286">            return new SRMHardware(this)</span>
        }

        @Override
        protected Builder self() {
<span class="nc" id="L291">            return this</span>
        }
    }

    private SRMHardware(Builder builder) {
<span class="fc" id="L296">        super(builder)</span>
<span class="fc" id="L297">        piezoTableController = builder.piezoTableController</span>
<span class="fc" id="L298">        piezoScanner = builder.piezoScanner</span>
<span class="fc" id="L299">        laserLinesCw = builder.laserLinesCw</span>
<span class="fc" id="L300">        laserLineFilter = builder.laserLineFilter</span>
<span class="fc" id="L301">        laserLinesPulsed = builder.laserLinesPulsed</span>
<span class="fc" id="L302">        laserRepetitionRate = builder.laserRepetitionRate</span>
<span class="fc" id="L303">        polarizationOptics = builder.polarizationOptics</span>
<span class="fc" id="L304">        excitationBeamSplitter = builder.excitationBeamSplitter</span>
<span class="fc" id="L305">        illuminationMode = builder.illuminationMode</span>
<span class="fc" id="L306">        pinholeSize = builder.pinholeSize</span>
<span class="fc" id="L307">        emissionFilter = builder.emissionFilter</span>
<span class="fc" id="L308">        beamSplitter = builder.beamSplitter</span>
<span class="fc" id="L309">        emissionFilterChannels = builder.emissionFilterChannels</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.3.201901230119</span></div></body></html>